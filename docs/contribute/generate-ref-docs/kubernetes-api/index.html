<!DOCTYPE html>
<html id="docs" lang="en" class="">
<head>
  

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>Generating Reference Documentation for the Kubernetes API - SuperMap iDesktop .NET</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
<link rel="stylesheet" href="/css/base_fonts.css">
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/jquery-ui.min.css">
<link rel="stylesheet" href="/css/sweetalert.min.css">
<link rel="stylesheet" href="/css/callouts.css">
<link rel="stylesheet" href="/css/custom-jekyll/tags.css">



<meta name="description" content="">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:url" content="https://qinlj.github.io/docs/contribute/generate-ref-docs/kubernetes-api/">
<meta property="og:title" content="Generating Reference Documentation for the Kubernetes API">
<meta name="twitter:title" content="Generating Reference Documentation for the Kubernetes API">

<meta name="twitter:image:alt"   content="SuperMap iDesktop .NET">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">
<script src="/js/anchor-4.1.1.min.js"></script>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/jquery-ui-1.12.1.min.js"></script>
<script src="/js/bootstrap-3.3.7.min.js"></script>
<script src="/js/sweetalert-1.1.3.min.js"></script>
<script src="/js/script.js"></script>
<script src="/js/custom-jekyll/tags.js"></script>


</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/" class="logo"></a>
    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="/docs/" class="active">Documentation</a></li>
            
            <li><a href="/blog/">Blog</a></li>
            
            <li><a href="/partners/">Partners</a></li>
            
            <li><a href="/community/">Community</a></li>
            
            <li><a href="/case-studies/">Case Studies</a></li>
            
            
            
             <li>
                <a href="#">
                    English <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="/zh/">中文 Chinese</a></li>
                
                    <li><a href="/ko/">한국어 Korean</a></li>
                
                    <li><a href="/ja/">日本語 Japanese</a></li>
                
                    <li><a href="/fr/">Français</a></li>
                
                    <li><a href="/it/">Italian</a></li>
                
                </ul>
            </li>

            <li>
                <a href="#">
                    v1.13 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io">v1.13</a></li>
                
                    <li><a href="https://v1-12.docs.kubernetes.io">v1.12</a></li>
                
                    <li><a href="https://v1-11.docs.kubernetes.io">v1.11</a></li>
                
                    <li><a href="https://v1-10.docs.kubernetes.io">v1.10</a></li>
                
                    <li><a href="https://v1-9.docs.kubernetes.io">v1.9</a></li>
                
                </ul>
            </li>
        </ul>

        <form id="searchBox" action="/search/">
          <input type="text" id="search" name="q" placeholder="Search" aria-label="Search">
        </form>

    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="/docs/tutorials/hello-minikube/">Get Started</a></h3>
           <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="/docs/home/">Documentation</a></h3>
           <p>Learn how to use Kubernetes with conceptual, tutorial, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="/blog/">Blog</a></h3>
           <p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>

        </div>
         
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
            <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>



<section id="hero" class="light-text no-sub">
  



















<h1>Contribute to Kubernetes docs</h1>
<h5></h5>


<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="/docs/home/">HOME</a></li>
		
		
		<li><a href="/docs/surfaceanalyst/">SURFACEANALYSIS</a></li>
		
		
		<li><a href="/docs/setup/">SETUP</a></li>
		
		
		<li><a href="/docs/concepts/">CONCEPTS</a></li>
		
		
		<li><a href="/docs/tasks/">TASKS</a></li>
		
		
		<li><a href="/docs/tutorials/">TUTORIALS</a></li>
		
		
		<li><a href="/docs/reference/">REFERENCE</a></li>
		
		
		<li><a href="/docs/contribute/" class="YAH">CONTRIBUTE</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/">
		<input type="text" id="search" name="q" placeholder="Search" aria-label="Search">
  </form>
</div>

</section>



<section id="encyclopedia">
  
<div id="docsToc">
     <div class="pi-accordion">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
         
        
        <a class="item" data-title="Contribute" href="/docs/contribute/"></a>

	
	
	
	
		
			

<a class="item" data-title="Start contributing" href="/docs/contribute/start/"></a>

		
	
		
			

<a class="item" data-title="Intermediate contributing" href="/docs/contribute/intermediate/"></a>

		
	
		
			

<a class="item" data-title="Advanced contributing" href="/docs/contribute/advanced/"></a>

		
	
		
			
<div class="item" data-title="Documentation style overview">
	<div class="container">
		
		
		
		<a class="item" data-title="Documentation style overview" href="/docs/contribute/style/"></a>
		
		
	
	
	
	
		
			

<a class="item" data-title="Style guide" href="/docs/contribute/style/style-guide/"></a>

		
	
		
			

<a class="item" data-title="Writing a new topic" href="/docs/contribute/style/write-new-topic/"></a>

		
	
		
			

<a class="item" data-title="Using Page Templates" href="/docs/contribute/style/page-templates/"></a>

		
	
		
			

<a class="item" data-title="Content organization" href="/docs/contribute/style/content-organization/"></a>

		
	
		
			

<a class="item" data-title="Custom Hugo Shortcodes" href="/docs/contribute/style/hugo-shortcodes/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Reference docs overview">
	<div class="container">
		
		
		
		<a class="item" data-title="Reference docs overview" href="/docs/contribute/generate-ref-docs/"></a>
		
		
	
	
	
	
		
			

<a class="item" data-title="Generating Reference Documentation for Kubernetes Federation API" href="/docs/contribute/generate-ref-docs/federation-api/"></a>

		
	
		
			

<a class="item" data-title="Generating Reference Documentation for kubectl Commands" href="/docs/contribute/generate-ref-docs/kubectl/"></a>

		
	
		
			

<a class="item" data-title="Generating Reference Documentation for the Kubernetes API" href="/docs/contribute/generate-ref-docs/kubernetes-api/"></a>

		
	
		
			

<a class="item" data-title="Generating Reference Pages for Kubernetes Components and Tools" href="/docs/contribute/generate-ref-docs/kubernetes-components/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" data-title="Localizing Kubernetes Documentation" href="/docs/contribute/localization/"></a>

		
	
		
			

<a class="item" data-title="Participating in SIG Docs" href="/docs/contribute/participating/"></a>

		
	





     </div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 


  <div id="docsContent">
  

<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/en/docs%5ccontribute%5cgenerate-ref-docs%5ckubernetes-api.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>

<h1>Generating Reference Documentation for the Kubernetes API</h1>




<p>This page shows how to update the automatically generated reference docs for the
Kubernetes API.</p>











<ul id="markdown-toc">










<li><a href="#before-you-begin">Before you begin</a></li>












<li><a href="#the-big-picture">The big picture</a></li>




<li><a href="#getting-three-repositories">Getting three repositories</a></li>




<li><a href="#editing-the-kubernetes-source-code">Editing the Kubernetes source code</a></li>




<li><a href="#generating-the-published-reference-docs">Generating the published reference docs</a></li>




<li><a href="#copying-the-generated-docs-to-the-kubernetes-website-repository">Copying the generated docs to the kubernetes/website repository</a></li>




























<li><a href="#what-s-next">What's next</a></li>



</ul>



<h2 id="before-you-begin">Before you begin</h2>
<p>You need to have these tools installed:</p>

<ul>
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank">Git</a></li>
<li><a href="https://golang.org/doc/install" target="_blank">Golang</a> version 1.9.1 or later</li>
<li><a href="https://docs.docker.com/engine/installation/" target="_blank">Docker</a></li>
<li><a href="https://github.com/coreos/etcd/" target="_blank">etcd</a></li>
</ul>

<p>Your $GOPATH environment variable must be set, and the location of <code>etcd</code>
must be in your $PATH environment variable.</p>

<p>You need to know how to create a pull request to a GitHub repository.
Typically, this involves creating a fork of the repository. For more
information, see
<a href="/docs/home/contribute/create-pull-request/">Creating a Documentation Pull Request</a> and
<a href="https://gist.github.com/Chaser324/ce0505fbed06b947d962" target="_blank">GitHub Standard Fork &amp; Pull Request Workflow</a>.</p>




<h2 id="the-big-picture">The big picture</h2>

<p>Updating the Kubernetes API reference documentation is a two-stage process:</p>

<ol>
<li><p>Generate an OpenAPI spec from the Kubernetes source code. The tools for
this stage are at <a href="https://github.com/kubernetes/kubernetes/tree/master/hack" target="_blank">kubernetes/kubernetes/hack</a>.</p></li>

<li><p>Generate an HTML file from the OpenAPI spec. The tools for this stage are at
<a href="https://github.com/kubernetes-incubator/reference-docs" target="_blank">kubernetes-incubator/reference-docs</a>.</p></li>
</ol>

<h2 id="getting-three-repositories">Getting three repositories</h2>

<p>If you don&rsquo;t already have the kubernetes/kubernetes repository, get it now:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mkdir <span style="color:#b8860b">$GOPATH</span>/src
<span style="color:#a2f">cd</span> <span style="color:#b8860b">$GOPATH</span>/src
go get github.com/kubernetes/kubernetes</code></pre></div>
<p>Determine the base directory of your clone of the
<a href="https://github.com/kubernetes/kubernetes" target="_blank">kubernetes/kubernetes</a> repository.
For example, if you followed the preceding step to get the repository, your
base directory is <code>$GOPATH/src/github.com/kubernetes/kubernetes.</code>
The remaining steps refer to your base directory as <code>&lt;k8s-base&gt;</code>.</p>

<p>If you don&rsquo;t already have the kubernetes/website repository, get it now:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mkdir <span style="color:#b8860b">$GOPATH</span>/src
<span style="color:#a2f">cd</span> <span style="color:#b8860b">$GOPATH</span>/src
go get github.com/kubernetes/website</code></pre></div>
<p>Determine the base directory of your clone of the
<a href="https://github.com/kubernetes/website" target="_blank">kubernetes/website</a> repository.
For example, if you followed the preceding step to get the repository, your
base directory is <code>$GOPATH/src/github.com/kubernetes/website.</code>
The remaining steps refer to your base directory as <code>&lt;web-base&gt;</code>.</p>

<p>If you don&rsquo;t already have the kubernetes-incubator/reference-docs repository, get it now:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mkdir <span style="color:#b8860b">$GOPATH</span>/src
<span style="color:#a2f">cd</span> <span style="color:#b8860b">$GOPATH</span>/src
go get github.com/kubernetes-incubator/reference-docs</code></pre></div>
<p>Determine the base directory of your clone of the
<a href="https://github.com/kubernetes-incubator/reference-docs" target="_blank">kubernetes-incubator/reference-docs</a> repository.
For example, if you followed the preceding step to get the repository, your
base directory is <code>$GOPATH/src/github.com/kubernetes-incubator/reference-docs.</code>
The remaining steps refer to your base directory as <code>&lt;rdocs-base&gt;</code>.</p>

<h2 id="editing-the-kubernetes-source-code">Editing the Kubernetes source code</h2>

<p>The Kubernetes API reference documentation is automatically generated from
an OpenAPI spec, which is generated from the Kubernetes source code. If you
want to change the reference documentation, the first step is to change one
or more comments in the Kubernetes source code.</p>

<h3 id="making-changes-to-comments-in-the-source-code">Making changes to comments in the source code</h3>

<blockquote class="note">
  <div><strong>Note:</strong> The following steps are an example, not a general procedure. Details
will be different in your situation.</div>
</blockquote>

<p>Here&rsquo;s an example of editing a comment in the Kubernetes source code.</p>

<p>In your local kubernetes/kubernetes repository, check out the master branch,
and make sure it is up to date:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#a2f">cd</span> &lt;k8s-base&gt;
git checkout master
git pull https://github.com/kubernetes/kubernetes master</code></pre></div>
<p>Suppose this source file in the master branch has the typo &ldquo;atmost&rdquo;:</p>

<p><a href="https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/apps/v1/types.go" target="_blank">kubernetes/kubernetes/staging/src/k8s.io/api/apps/v1/types.go</a></p>

<p>In your local environment, open <code>types.go</code>, and change &ldquo;atmost&rdquo; to &ldquo;at most&rdquo;.</p>

<p>Verify that you have changed the file:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">git status</code></pre></div>
<p>The output shows that you are on the master branch, and that the <code>types.go</code>
source file has been modified:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">On branch master
...
    modified:   staging/src/k8s.io/api/apps/v1/types.go</code></pre></div>
<h3 id="committing-your-edited-file">Committing your edited file</h3>

<p>Run <code>git add</code> and <code>git commit</code> to commit the changes you have made so far. In the next step,
you will do a second commit. It is important to keep your changes separated into two commits.</p>

<h3 id="generating-the-openapi-spec-and-related-files">Generating the OpenAPI spec and related files</h3>

<p>Go to <code>&lt;k8s-base&gt;</code> and run these scripts:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">hack/update-generated-swagger-docs.sh
hack/update-swagger-spec.sh
hack/update-openapi-spec.sh
hack/update-generated-protobuf.sh
hack/update-api-reference-docs.sh</code></pre></div>
<p>Run <code>git status</code> to see what was generated.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">On branch master
...
    modified:   api/openapi-spec/swagger.json
    modified:   api/swagger-spec/apps_v1.json
    modified:   docs/api-reference/apps/v1/definitions.html
    modified:   staging/src/k8s.io/api/apps/v1/generated.proto
    modified:   staging/src/k8s.io/api/apps/v1/types.go
    modified:   staging/src/k8s.io/api/apps/v1/types_swagger_doc_generated.go</code></pre></div>
<p>View the contents of <code>api/openapi-spec/swagger.json</code> to make sure the typo is fixed.
For example, you could run <code>git diff -a api/openapi-spec/swagger.json</code>.
This is important, because <code>swagger.json</code> will be the input to the second stage of
the doc generation process.</p>

<p>Run <code>git add</code> and <code>git commit</code> to commit your changes. Now you have two commits:
one that has the edited <code>types.go</code> file, and one that has the generated OpenAPI spec
and related files. Keep these two commits separate. That is, do not squash your commits.</p>

<p>Submit your changes as a
<a href="https://help.github.com/articles/creating-a-pull-request/" target="_blank">pull request</a> to the
master branch of the
<a href="https://github.com/kubernetes/kubernetes" target="_blank">kubernetes/kubernetes</a> repository.
Monitor your pull request, and respond to reviewer comments as needed. Continue
to monitor your pull request until it has been merged.</p>

<p><a href="https://github.com/kubernetes/kubernetes/pull/57758" target="_blank">PR 57758</a>
is an example of a pull request that fixes a typo in the Kubernetes source code.</p>

<blockquote class="note">
  <div><strong>Note:</strong> It can be tricky to determine the correct source file to be changed. In the
preceding example, the authoritative source file is under the <code>staging</code> directory
in the <code>kubernetes/kubernetes</code> repository. But in your situation,the <code>staging</code> directory
might not be the place to find the authoritative source. For guidance, check the
<code>README</code> files in
<a href="https://github.com/kubernetes/kubernetes/tree/master/staging" target="_blank">kubernetes/kubernetes</a>
repository and in related repositories like
<a href="https://github.com/kubernetes/apiserver/blob/master/README.md" target="_blank">kubernetes/apiserver</a>.</div>
</blockquote>

<h3 id="cherry-picking-your-commit-into-a-release-branch">Cherry picking your commit into a release branch</h3>

<p>In the preceding section, you edited a file in the master branch and then ran scripts
to generate an OpenAPI spec and related files. Then you submitted your changes in a pull request
to the master branch of the kubernetes/kubernetes repository. Now suppose you want to backport
your change into a release branch. For example, suppose the master branch is being used to develop
Kubernetes version 1.10, and you want to backport your change into the release-1.9 branch.</p>

<p>Recall that your pull request has two commits: one for editing <code>types.go</code>
and one for the files generated by scripts. The next step is to propose a cherry pick of your first
commit into the release-1.9 branch. The idea is to cherry pick the commit that edited <code>types.go</code>, but not
the commit that has the results of running the scripts. For instructions, see
<a href="https://github.com/kubernetes/community/blob/master/contributors/devel/cherry-picks.md" target="_blank">Propose a Cherry Pick</a>.</p>

<blockquote class="note">
  <div><strong>Note:</strong> Proposing a cherry pick requires that you have permission to set a label and a milestone in your
pull request. If you don&rsquo;t have those permissions, you will need to work with someone who can set the label
and milestone for you.</div>
</blockquote>

<p>When you have a pull request in place for cherry picking your one commit into the release-1.9 branch,
the next step is to run these scripts in the release-1.9 branch of your local environment.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">hack/update-generated-swagger-docs.sh
hack/update-swagger-spec.sh
hack/update-openapi-spec.sh
hack/update-generated-protobuf.sh
hack/update-api-reference-docs.sh</code></pre></div>
<p>Now add a commit to your cherry-pick pull request that has the recently generated OpenAPI spec
and related files. Monitor your pull request until it gets merged into the release-1.9 branch.</p>

<p>At this point, both the master branch and the release-1.9 branch have your updated <code>types.go</code>
file and a set of generated files that reflect the change you made to <code>types.go</code>. Note that the
generated OpenAPI spec and other generated files in the release-1.9 branch are not necessarily
the same as the generated files in the master branch. The generated files in the release-1.9 branch
contain API elements only from Kubernetes 1.9. The generated files in the master branch might contain
API elements that are not in 1.9, but are under development for 1.10.</p>

<h2 id="generating-the-published-reference-docs">Generating the published reference docs</h2>

<p>The preceding section showed how to edit a source file and then generate
several files, including <code>api/openapi-spec/swagger.json</code> in the
<code>kubernetes/kubernetes</code> repository.</p>

<p>This section shows how to generate the
<a href="/docs/reference/generated/kubernetes-api/v1.13/">published Kubernetes API reference documentation</a>,
which is generated by the tools at
<a href="https://github.com/kubernetes-incubator/reference-docs" target="_blank">kubernetes-incubator/reference-docs</a>.
Those tools take the <code>api/openapi-spec/swagger.json</code> file as input.</p>

<h3 id="editing-makefile-in-kubernetes-incubator-reference-docs">Editing Makefile in kubernetes-incubator/reference-docs</h3>

<p>Go to <code>&lt;rdocs-base&gt;</code>, and open <code>Makefile</code> for editing:</p>

<p>Set <code>K8SROOT</code> to the base directory of your local kubernetes/kubernetes
repository. Set <code>WEBROOT</code> to the base directory of your local kubernetes/website repository.
Set <code>MINOR_VERSION</code> to the minor version of the docs you want to build. For example,
if you want to build docs for Kubernetes 1.9, set <code>MINOR_VERSION</code> to 9. Save and close <code>Makefile</code>.</p>

<h3 id="copying-the-openapi-spec">Copying the OpenAPI spec</h3>

<p>The doc generation code needs a local copy of the OpenAPI spec for the Kubernetes API.
Go to <code>&lt;k8s-base&gt;</code> and check out the branch that has the OpenAPI spec you want to use.
For example, if you want to generate docs for Kubernetes 1.9, checkout the release-1.9
branch.</p>

<p>Go back to <code>&lt;rdocs-base&gt;</code>. Enter the following command to copy the OpenAPI spec from the
<code>kubernetes/kubernetes</code> repository to a local directory:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">make updateapispec</code></pre></div>
<p>The output shows that the file was copied:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cp ~/src/github.com/kubernetes/kubernetes/api/openapi-spec/swagger.json gen-apidocs/generators/openapi-spec/swagger.json</code></pre></div>
<h3 id="building-the-brodocs-image">Building the brodocs image</h3>

<p>The doc generation code requires the
<a href="https://github.com/pwittrock/brodocs" target="_blank">pwittrock/brodocs</a> Docker image.</p>

<p>This command creates the <code>pwittrock/brodocs</code> Docker image. It also tries to push the image to
DockerHub, but it&rsquo;s OK if that step fails. As long as you have the image locally, the code generation
can succeed.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">make brodocs</code></pre></div>
<p>Verify that you have the brodocs image:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker images</code></pre></div>
<p>The output shows <code>pwittrock/brodocs</code> as one of the available images:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
pwittrock/brodocs   latest              999d34a50d56        <span style="color:#666">5</span> weeks ago         714MB</code></pre></div>
<h3 id="running-the-doc-generation-code">Running the doc generation code</h3>

<p>Build and run the doc generation code. You might need to run the command as root:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#a2f">cd</span> &lt;rdocs-base&gt;
make api</code></pre></div>
<h3 id="locate-the-generated-files">Locate the generated files</h3>

<p>These two files are the output of a successful build. Verify that they exist:</p>

<ul>
<li><code>&lt;rdocs-base&gt;/gen-apidocs/generators/build/index.html</code></li>
<li><code>&lt;rdocs-base&gt;/gen-apidocs/generators/build/navData.js</code></li>
</ul>

<h2 id="copying-the-generated-docs-to-the-kubernetes-website-repository">Copying the generated docs to the kubernetes/website repository</h2>

<p>The preceding sections showed how to edit a Kubernetes source file,
generate an OpenAPI spec, and then generate reference documentation for publication.</p>

<p>This section show how to copy the generated docs to the
<a href="https://github.com/kubernetes/website" target="_blank">kubernetes/website</a> repository. The files
in the <code>kubernetes/website</code> repository are published in the
<a href="https://kubernetes.io" target="_blank">kubernetes.io</a> website. In particular, the generated
<code>index.html</code> file is published <a href="/docs/reference/generated/kubernetes-api/v1.13/">here</a>.</p>

<p>Enter the following command to copy the generated files to
your local kubernetes/website repository:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">make copyapi</code></pre></div>
<p>Go to the base of your local kubernetes/kubernetes repository, and
see which files have been modified:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#a2f">cd</span> &lt;web-base&gt;
git status</code></pre></div>
<p>The output shows the modified files:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">On branch master
...
   modified:   docs/reference/generated/kubernetes-api/v1.9/index.html</code></pre></div>
<p>In this example, only one file has been modified. Recall that you generated both
<code>index.html</code> and <code>navData.js</code>. But apparently the generated <code>navata.js</code> is not different
from the <code>navData.js</code> that was already in the kubernetes/website` repository.</p>

<p>In <code>&lt;web-base&gt;</code> run <code>git add</code> and <code>git commit</code> to commit the change.</p>

<p>Submit your changes as a
<a href="/docs/home/contribute/create-pull-request/">pull request</a> to the
<a href="https://github.com/kubernetes/website" target="_blank">kubernetes/website</a> repository.
Monitor your pull request, and respond to reviewer comments as needed. Continue
to monitor your pull request until it has been merged.</p>

<p>A few minutes after your pull request is merged, your changes will be visible
in the <a href="/docs/reference/generated/kubernetes-api/v1.13/">published reference documentation</a>.</p>

















<h2 id="what-s-next">What&#39;s next</h2>
<ul>
<li><a href="/docs/home/contribute/generated-reference/kubernetes-components/">Generating Reference Docs for Kubernetes Components and Tools</a></li>
<li><a href="/docs/home/contribute/generated-reference/kubectl/">Generating Reference Documentation for kubectl Commands</a></li>
<li><a href="/docs/home/contribute/generated-reference/federation-api/">Generating Reference Documentation for the Kubernetes Federation API</a></li>
</ul>






<nav class="pagination"><a class="nav nav-prev" href="/docs/contribute/generate-ref-docs/kubectl/" title="Generating Reference Documentation for kubectl Commands"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Generating Reference Documentation for kubectl Commands</a>
<a class="nav nav-next" href="/docs/contribute/generate-ref-docs/kubernetes-components/" title="Generating Reference Pages for Kubernetes Components and Tools">Next - Generating Reference Pages for Kubernetes Components and Tools <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav>


  
  <h2>Feedback</h2>
  <p class="feedback--prompt">Was this page helpful? </p>
  <button class="button feedback--yes">Yes</button>
  <button class="button feedback--no">No</button>
  <p class="feedback--response feedback--response__hidden">
    Thanks for the feedback. If you have a specific, answerable question about how to use Kubernetes,
    ask it on <a target="_blank" rel="noopener"
    href="https://stackoverflow.com/questions/tagged/kubernetes">Stack Overflow</a>. Open
    an issue in the GitHub repo if you want to <a class="feedback--link" target="_blank" rel="noopener"
    href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">report a problem</a> or
    <a class="feedback--link" target="_blank" rel="noopener"
    href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">suggest an improvement</a>.
  </p>
  <script>
    const yes = document.querySelector('.feedback--yes');
    const no = document.querySelector('.feedback--no');
    document.querySelectorAll('.feedback--link').forEach(link => {
      link.href = link.href + window.location.pathname;
    });
    const sendFeedback = (value) => {
      if (!gtag) { console.log('!gtag'); }
      gtag('event', 'click', {
        'event_category': 'Helpful',
        'event_label': window.location.pathname,
        value
      });
    };
    const disableButtons = () => {
      yes.disabled = true;
      yes.classList.add('feedback--button__disabled');
      no.disabled = true;
      no.classList.add('feedback--button__disabled');
    };
    yes.addEventListener('click', () => {
      sendFeedback(1);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
    no.addEventListener('click', () => {
      sendFeedback(0);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
  </script>


  <div id="pre-footer"> 
  <hr />

  <div class="issue-button-container">
    <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs%5ccontribute%5cgenerate-ref-docs%5ckubernetes-api.md?pixel" alt="Analytics" /></a></p>
    
    
    <script type="text/javascript">
    PDRTJS_settings_8345992 = {
    "id" : "8345992",
    "unique_id" : "\/docs\/contribute\/generate-ref-docs\/kubernetes-api\/",
    "title" : "Generating Reference Documentation for the Kubernetes API",
    "permalink" : "https:\/\/qinlj.github.io\/docs\/contribute\/generate-ref-docs\/kubernetes-api\/"
    };
    (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
    </script>
    <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?title=Issue%20with%20' +
    'k8s.io'+window.location.pathname)" class="button issue">Create an Issue</a>
    
    
    
    <a href="https://github.com/kubernetes/website/edit/master/content/en/docs%5ccontribute%5cgenerate-ref-docs%5ckubernetes-api.md" class="button issue">Edit This Page</a>
    
  </div>
  

  <div id="lastedit" class="lastedit issue-button-container">
    Page last modified on November 06, 2018 at 11:33 AM PST by
    <a href="https://github.com/kubernetes/website/commit/d65e1790ffc020129db5f5a583060d6fe318316a/">Add admonition type to shortcode (#9482)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs%5ccontribute%5cgenerate-ref-docs%5ckubernetes-api.md">Page History</a>)
  </div>
  
</div>

  <div class="post-comment">
    
    

<div id="vcomments"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>

<script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'BKVEHk6tElIcscdmyQlg0U3l-gzGzoHsz',
        appKey: 'RPl3UVDsJQlSv1olxy01A3pO',
        notify: 'false',
        verify: 'false',
        avatar:'SuperMap',
        placeholder: '说点什么吧...',
        visitor: 'true'
    });
</script>

  </div>
  </div>
</section>

<footer>
    <main class="light-text">
        <nav>
            
            
            
            <a href="/docs/home/">Home</a>
            
            <a href="/blog/">Blog</a>
            
            <a href="/partners/">Partners</a>
            
            <a href="/community/">Community</a>
            
            <a href="/case-studies/">Case Studies</a>
            
        </nav>
        <div class="social">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">Contribute</a>
            </div>
        </div>
        <div id="miceType" class="center">
            &copy; 2019 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a></a>
        </div>
        <div id="miceType" class="center">
            Copyright &copy; 2019 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a>
        </div>
        <div id="miceType" class="center">
            ICP license: 京ICP备17074266号-3
        </div>
    </main>
</footer>

<button class="flyout-button" onclick="kub.toggleToc()"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



<script language="application/javascript">
  
  (function addHeadingLinks(){
    var article = document.getElementById('docsContent');
    var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
    headings.forEach(function(heading){
      if(heading.id){
        var a = document.createElement('a');
        a.innerHTML = heading.innerHTML;
        a.href = '#'+heading.id;
        a.classList.add('inpage_heading');
        heading.innerHTML = '';
        heading.appendChild(a);
      }
    });
  })();
</script>
</body>
</html>