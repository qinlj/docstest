<!DOCTYPE html>
<html id="docs" lang="en" class="">
<head>
  

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>CRI installation - SuperMap iDesktop .NET</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
<link rel="stylesheet" href="/css/base_fonts.css">
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/jquery-ui.min.css">
<link rel="stylesheet" href="/css/sweetalert.min.css">
<link rel="stylesheet" href="/css/callouts.css">
<link rel="stylesheet" href="/css/custom-jekyll/tags.css">



<meta name="description" content="">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:url" content="https://docstest.github.io/docs/setup/cri/">
<meta property="og:title" content="CRI installation">
<meta name="twitter:title" content="CRI installation">

<meta name="twitter:image:alt"   content="SuperMap iDesktop .NET">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">
<script src="/js/anchor-4.1.1.min.js"></script>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/jquery-ui-1.12.1.min.js"></script>
<script src="/js/bootstrap-3.3.7.min.js"></script>
<script src="/js/sweetalert-1.1.3.min.js"></script>
<script src="/js/script.js"></script>
<script src="/js/custom-jekyll/tags.js"></script>


</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/" class="logo"></a>
    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="/docs/" class="active">Documentation</a></li>
            
            <li><a href="/blog/">Blog</a></li>
            
            <li><a href="/partners/">Partners</a></li>
            
            <li><a href="/community/">Community</a></li>
            
            <li><a href="/case-studies/">Case Studies</a></li>
            
            
            
             <li>
                <a href="#">
                    English <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="/ko/docs/setup/cri/">한국어 Korean</a></li>
                
                    <li><a href="/ja/docs/setup/cri/">日本語 Japanese</a></li>
                
                </ul>
            </li>

            <li>
                <a href="#">
                    v1.13 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io">v1.13</a></li>
                
                    <li><a href="https://v1-12.docs.kubernetes.io">v1.12</a></li>
                
                    <li><a href="https://v1-11.docs.kubernetes.io">v1.11</a></li>
                
                    <li><a href="https://v1-10.docs.kubernetes.io">v1.10</a></li>
                
                    <li><a href="https://v1-9.docs.kubernetes.io">v1.9</a></li>
                
                </ul>
            </li>
        </ul>

        <form id="searchBox" action="/search/">
          <input type="text" id="search" name="q" placeholder="Search" aria-label="Search">
        </form>

    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="/docs/tutorials/hello-minikube/">Get Started</a></h3>
           <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="/docs/home/">Documentation</a></h3>
           <p>Learn how to use Kubernetes with conceptual, tutorial, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="/blog/">Blog</a></h3>
           <p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>

        </div>
         
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
            <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>



<section id="hero" class="light-text no-sub">
  









<h1>Setup</h1>
<h5></h5>












<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="/docs/home/">HOME</a></li>
		
		
		<li><a href="/docs/surfaceanalyst/">SURFACEANALYSIS</a></li>
		
		
		<li><a href="/docs/setup/" class="YAH">SETUP</a></li>
		
		
		<li><a href="/docs/concepts/">CONCEPTS</a></li>
		
		
		<li><a href="/docs/tasks/">TASKS</a></li>
		
		
		<li><a href="/docs/tutorials/">TUTORIALS</a></li>
		
		
		<li><a href="/docs/reference/">REFERENCE</a></li>
		
		
		<li><a href="/docs/contribute/">CONTRIBUTE</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/">
		<input type="text" id="search" name="q" placeholder="Search" aria-label="Search">
  </form>
</div>

</section>



<section id="encyclopedia">
  
<div id="docsToc">
     <div class="pi-accordion">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
             
         
             
         
             
         
             
         
             
         
             
         
         
        
        <a class="item" data-title="Setup" href="/docs/setup/"></a>

	
	
	
	
		
			

<a class="item" data-title="Picking the Right Solution" href="/docs/setup/pick-right-solution/"></a>

		
	
		
			
<div class="item" data-title="Downloading Kubernetes">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Building a release" href="/docs/setup/release/building-from-source/"></a>

		
	
		
			

<a class="item" data-title="v1.13 Release Notes" href="/docs/setup/release/notes/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Bootstrapping Clusters with kubeadm">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Installing kubeadm" href="/docs/setup/independent/install-kubeadm/"></a>

		
	
		
			

<a class="item" data-title="Creating a single master cluster with kubeadm" href="/docs/setup/independent/create-cluster-kubeadm/"></a>

		
	
		
			

<a class="item" data-title="Customizing control plane configuration with kubeadm" href="/docs/setup/independent/control-plane-flags/"></a>

		
	
		
			

<a class="item" data-title="Options for Highly Available Topology" href="/docs/setup/independent/ha-topology/"></a>

		
	
		
			

<a class="item" data-title="Creating Highly Available Clusters with kubeadm" href="/docs/setup/independent/high-availability/"></a>

		
	
		
			

<a class="item" data-title="Set up a High Availability etcd cluster with kubeadm" href="/docs/setup/independent/setup-ha-etcd-with-kubeadm/"></a>

		
	
		
			

<a class="item" data-title="Configuring each kubelet in your cluster using kubeadm" href="/docs/setup/independent/kubelet-integration/"></a>

		
	
		
			

<a class="item" data-title="Troubleshooting kubeadm" href="/docs/setup/independent/troubleshooting-kubeadm/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Turnkey Cloud Solutions">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Running Kubernetes on AWS EC2" href="/docs/setup/turnkey/aws/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes on Alibaba Cloud" href="/docs/setup/turnkey/alibaba-cloud/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes on Azure" href="/docs/setup/turnkey/azure/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes on CenturyLink Cloud" href="/docs/setup/turnkey/clc/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes on Google Compute Engine" href="/docs/setup/turnkey/gce/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes on Multiple Clouds with IBM Cloud Private" href="/docs/setup/turnkey/icp/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes on Multiple Clouds with Stackpoint.io" href="/docs/setup/turnkey/stackpoint/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Custom Cloud Solutions">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Installing Kubernetes On-premises/Cloud Providers with Kubespray" href="/docs/setup/custom-cloud/kubespray/"></a>

		
	
		
			

<a class="item" data-title="Installing Kubernetes on AWS with kops" href="/docs/setup/custom-cloud/kops/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="On-Premises VMs">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Cloudstack" href="/docs/setup/on-premises-vm/cloudstack/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes on DC/OS" href="/docs/setup/on-premises-vm/dcos/"></a>

		
	
		
			

<a class="item" data-title="oVirt" href="/docs/setup/on-premises-vm/ovirt/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" data-title="Kubernetes Version and Version Skew Support Policy" href="/docs/setup/version-skew-policy/"></a>

		
	
		
			

<a class="item" data-title="Building Large Clusters" href="/docs/setup/cluster-large/"></a>

		
	
		
			

<a class="item" data-title="Running in Multiple Zones" href="/docs/setup/multiple-zones/"></a>

		
	
		
			

<a class="item" data-title="CRI installation" href="/docs/setup/cri/"></a>

		
	
		
			

<a class="item" data-title="Installing Kubernetes with Digital Rebar Provision (DRP) via KRIB" href="/docs/setup/on-premises-metal/krib/"></a>

		
	
		
			

<a class="item" data-title="PKI Certificates and Requirements" href="/docs/setup/certificates/"></a>

		
	
		
			

<a class="item" data-title="Running Kubernetes Locally via Minikube" href="/docs/setup/minikube/"></a>

		
	
		
			

<a class="item" data-title="Validate Node Setup" href="/docs/setup/node-conformance/"></a>

		
	





     </div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 


  <div id="docsContent">
  

<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/en/docs%5csetup%5ccri.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>

<h1>CRI installation</h1>



<div style="margin-top: 10px; margin-bottom: 10px;">



<b>FEATURE STATE:</b> <code>Kubernetes v1.6</code>




    
    
    
    
    
<a href="#" id="feature-state-dialog-link" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-newwin"></span>stable</a>
<div id="feature-state-dialog" class="ui-dialog-content" title="stable">
This feature is <em>stable</em>, meaning:</p>

<ul>
<li>The version name is vX where X is an integer.</li>
<li>Stable versions of features will appear in released software for many subsequent versions.</li>
</ul>

</div>
<script>
$(function(){
    
    $( "#feature-state-dialog" ).dialog({
        autoOpen: false,
        width: "600",
        buttons: [
            {
                text: "Ok",
                click: function() {
                    $( this ).dialog( "close" );
                }
            }
        ]
    });

    
    $( "#feature-state-dialog-link" ).click(function( event ) {
        $( "#feature-state-dialog" ).dialog( "open" );
        event.preventDefault();
    });

});
</script>

    

</div>

<p>To run containers in Pods, Kubernetes uses a container runtime. Here are
the installation instruction for various runtimes.</p>









<ul id="markdown-toc">










<li><a href="#docker">Docker</a></li>




<li><a href="#cri-o">CRI-O</a></li>




<li><a href="#containerd">Containerd</a></li>




<li><a href="#other-cri-runtimes-frakti">Other CRI runtimes: frakti</a></li>



















</ul>


<blockquote class="caution">
  <div><strong>Caution:</strong> <p>A flaw was found in the way runc handled system file descriptors when running containers.
A malicious container could use this flaw to overwrite contents of the runc binary and
consequently run arbitrary commands on the container host system.</p>

<p>Please refer to this link for more information about this issue
<a href="https://access.redhat.com/security/cve/cve-2019-5736" target="_blank">cve-2019-5736 : runc vulnerability </a></p>
</div>
</blockquote>

<h3 id="applicability">Applicability</h3>

<blockquote class="note">
  <div><strong>Note:</strong> This document is written for users installing CRI onto Linux. For other operating
systems, look for documentation specific to your platform.</div>
</blockquote>

<p>You should execute all the commands in this guide as <code>root</code>. For example, prefix commands
with <code>sudo</code>, or become <code>root</code> and run the commands as that user.</p>

<h3 id="cgroup-drivers">Cgroup drivers</h3>

<p>When systemd is chosen as the init system for a Linux distribution, the init process generates
and consumes a root control group (<code>cgroup</code>) and acts as a cgroup manager. Systemd has a tight
integration with cgroups and will allocate cgroups per process. It&rsquo;s possible to configure your
container runtime and the kubelet to use <code>cgroupfs</code>. Using <code>cgroupfs</code> alongside systemd means
that there will then be two different cgroup managers.</p>

<p>Control groups are used to constrain resources that are allocated to processes.
A single cgroup manager will simplify the view of what resources are being allocated
and will by default have a more consistent view of the available and in-use resources. When we have
two managers we end up with two views of those resources. We have seen cases in the field
where nodes that are configured to use <code>cgroupfs</code> for the kubelet and Docker, and <code>systemd</code>
for the rest of the processes running on the node becomes unstable under resource pressure.</p>

<p>Changing the settings such that your container runtime and kubelet use <code>systemd</code> as the cgroup driver
stabilized the system. Please note the <code>native.cgroupdriver=systemd</code> option in the Docker setup below.</p>

<h2 id="docker">Docker</h2>

<p>On each of your machines, install Docker.
Version 18.06.2 is recommended, but 1.11, 1.12, 1.13, 17.03 and 18.09 are known to work as well.
Keep track of the latest verified Docker version in the Kubernetes release notes.</p>

<p>Use the following commands to install Docker on your system:</p>

<div id="tab-cri-docker-installation">
<ul>
    
      
  <li><a href="#tab-cri-docker-installation-0">Ubuntu 16.04</a></li>

      
  <li><a href="#tab-cri-docker-installation-1">CentOS/RHEL 7.4&#43;</a></li>

</ul>


<div id="tab-cri-docker-installation-0">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
<span style="color:#080;font-style:italic"># Install Docker CE</span>
<span style="color:#080;font-style:italic">## Set up the repository:</span>
<span style="color:#080;font-style:italic">### Update the apt package index</span>
    apt-get update

<span style="color:#080;font-style:italic">### Install packages to allow apt to use a repository over HTTPS</span>
    apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install apt-transport-https ca-certificates curl software-properties-common

<span style="color:#080;font-style:italic">### Add Docker’s official GPG key</span>
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -

<span style="color:#080;font-style:italic">### Add docker apt repository.</span>
    add-apt-repository <span style="color:#b62;font-weight:bold">\
</span>
    <span style="color:#b44">&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span style="color:#b44">    </span><span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span><span style="color:#b44"> \
</span><span style="color:#b44">    stable&#34;</span>

<span style="color:#080;font-style:italic">## Install docker ce.</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install docker-ce<span style="color:#666">=</span><span style="color:#666">18</span>.06.2~ce~3-0~ubuntu

<span style="color:#080;font-style:italic"># Setup daemon.</span>
cat &gt; /etc/docker/daemon.json <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">{
</span><span style="color:#b44">  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span style="color:#b44">  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span style="color:#b44">  &#34;log-opts&#34;: {
</span><span style="color:#b44">    &#34;max-size&#34;: &#34;100m&#34;
</span><span style="color:#b44">  },
</span><span style="color:#b44">  &#34;storage-driver&#34;: &#34;overlay2&#34;
</span><span style="color:#b44">}
</span><span style="color:#b44">EOF</span>

mkdir -p /etc/systemd/system/docker.service.d

<span style="color:#080;font-style:italic"># Restart docker.</span>
systemctl daemon-reload
systemctl restart docker
</code></pre></div>
    

<p></div></p>

<div id="tab-cri-docker-installation-1">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">

<span style="color:#080;font-style:italic"># Install Docker CE</span>
<span style="color:#080;font-style:italic">## Set up the repository</span>
<span style="color:#080;font-style:italic">### Install required packages.</span>
    yum install yum-utils device-mapper-persistent-data lvm2

<span style="color:#080;font-style:italic">### Add docker repository.</span>
yum-config-manager <span style="color:#b62;font-weight:bold">\
</span>
    --add-repo <span style="color:#b62;font-weight:bold">\
</span>
    https://download.docker.com/linux/centos/docker-ce.repo

<span style="color:#080;font-style:italic">## Install docker ce.</span>
yum update <span style="color:#666">&amp;&amp;</span> yum install docker-ce-18.06.2.ce

<span style="color:#080;font-style:italic">## Create /etc/docker directory.</span>
mkdir /etc/docker

<span style="color:#080;font-style:italic"># Setup daemon.</span>
cat &gt; /etc/docker/daemon.json <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">{
</span><span style="color:#b44">  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span style="color:#b44">  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span style="color:#b44">  &#34;log-opts&#34;: {
</span><span style="color:#b44">    &#34;max-size&#34;: &#34;100m&#34;
</span><span style="color:#b44">  },
</span><span style="color:#b44">  &#34;storage-driver&#34;: &#34;overlay2&#34;,
</span><span style="color:#b44">  &#34;storage-opts&#34;: [
</span><span style="color:#b44">    &#34;overlay2.override_kernel_check=true&#34;
</span><span style="color:#b44">  ]
</span><span style="color:#b44">}
</span><span style="color:#b44">EOF</span>

mkdir -p /etc/systemd/system/docker.service.d

<span style="color:#080;font-style:italic"># Restart docker.</span>
systemctl daemon-reload
systemctl restart docker
</code></pre></div>
    

<p></div></p>

<p></div></p>

<script>$(function(){$("#tab-cri-docker-installation").tabs();});</script>

<p>Refer to the <a href="https://docs.docker.com/engine/installation/" target="_blank">official Docker installation guides</a>
for more information.</p>

<h2 id="cri-o">CRI-O</h2>

<p>This section contains the necessary steps to install <code>CRI-O</code> as CRI runtime.</p>

<p>Use the following commands to install CRI-O on your system:</p>

<h3 id="prerequisites">Prerequisites</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">modprobe overlay
modprobe br_netfilter

<span style="color:#080;font-style:italic"># Setup required sysctl params, these persist across reboots.</span>
cat &gt; /etc/sysctl.d/99-kubernetes-cri.conf <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">net.bridge.bridge-nf-call-iptables  = 1
</span><span style="color:#b44">net.ipv4.ip_forward                 = 1
</span><span style="color:#b44">net.bridge.bridge-nf-call-ip6tables = 1
</span><span style="color:#b44">EOF</span>

sysctl --system</code></pre></div>
<div id="tab-cri-cri-o-installation">
<ul>
    
      
  <li><a href="#tab-cri-cri-o-installation-0">Ubuntu 16.04</a></li>

      
  <li><a href="#tab-cri-cri-o-installation-1">CentOS/RHEL 7.4&#43;</a></li>

</ul>


<div id="tab-cri-cri-o-installation-0">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">

<span style="color:#080;font-style:italic"># Install prerequisites</span>
apt-get update
apt-get install software-properties-common

add-apt-repository ppa:projectatomic/ppa
apt-get update

<span style="color:#080;font-style:italic"># Install CRI-O</span>
apt-get install cri-o-1.11

</code></pre></div>
    

<p></div></p>

<div id="tab-cri-cri-o-installation-1">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">

<span style="color:#080;font-style:italic"># Install prerequisites</span>
yum-config-manager --add-repo<span style="color:#666">=</span>https://cbs.centos.org/repos/paas7-crio-311-candidate/x86_64/os/

<span style="color:#080;font-style:italic"># Install CRI-O</span>
yum install --nogpgcheck cri-o

</code></pre></div>
    

<p></div></p>

<p></div></p>

<script>$(function(){$("#tab-cri-cri-o-installation").tabs();});</script>

<h3 id="start-cri-o">Start CRI-O</h3>

<pre><code>systemctl start crio
</code></pre>

<p>Refer to the <a href="https://github.com/kubernetes-sigs/cri-o#getting-started" target="_blank">CRI-O installation guide</a>
for more information.</p>

<h2 id="containerd">Containerd</h2>

<p>This section contains the necessary steps to use <code>containerd</code> as CRI runtime.</p>

<p>Use the following commands to install Containerd on your system:</p>

<h3 id="prerequisites-1">Prerequisites</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">modprobe overlay
modprobe br_netfilter

<span style="color:#080;font-style:italic"># Setup required sysctl params, these persist across reboots.</span>
cat &gt; /etc/sysctl.d/99-kubernetes-cri.conf <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">net.bridge.bridge-nf-call-iptables  = 1
</span><span style="color:#b44">net.ipv4.ip_forward                 = 1
</span><span style="color:#b44">net.bridge.bridge-nf-call-ip6tables = 1
</span><span style="color:#b44">EOF</span>

sysctl --system</code></pre></div>
<div id="tab-cri-containerd-installation">
<ul>
    
      
  <li><a href="#tab-cri-containerd-installation-0">Ubuntu 16.04&#43;</a></li>

      
  <li><a href="#tab-cri-containerd-installation-1">CentOS/RHEL 7.4&#43;</a></li>

</ul>


<div id="tab-cri-containerd-installation-0">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
apt-get install -y libseccomp2
</code></pre></div>
    

<p></div></p>

<div id="tab-cri-containerd-installation-1">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
yum install -y libseccomp
</code></pre></div>
    

<p></div></p>

<p></div></p>

<script>$(function(){$("#tab-cri-containerd-installation").tabs();});</script>

<h3 id="install-containerd">Install containerd</h3>

<p><a href="https://github.com/containerd/containerd/releases" target="_blank">Containerd releases</a> are published regularly, the values below are hardcoded to the latest version available at the time of writing. Please check for newer versions and hashes <a href="https://storage.googleapis.com/cri-containerd-release" target="_blank">here</a>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#080;font-style:italic"># Export required environment variables.</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">CONTAINERD_VERSION</span><span style="color:#666">=</span><span style="color:#b44">&#34;1.1.2&#34;</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">CONTAINERD_SHA256</span><span style="color:#666">=</span><span style="color:#b44">&#34;d4ed54891e90a5d1a45e3e96464e2e8a4770cd380c21285ef5c9895c40549218&#34;</span>

<span style="color:#080;font-style:italic"># Download containerd tar.</span>
wget https://storage.googleapis.com/cri-containerd-release/cri-containerd-<span style="color:#b68;font-weight:bold">${</span><span style="color:#b8860b">CONTAINERD_VERSION</span><span style="color:#b68;font-weight:bold">}</span>.linux-amd64.tar.gz

<span style="color:#080;font-style:italic"># Check hash.</span>
<span style="color:#a2f">echo</span> <span style="color:#b44">&#34;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#b8860b">CONTAINERD_SHA256</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44"> cri-containerd-</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#b8860b">CONTAINERD_VERSION</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#b44">.linux-amd64.tar.gz&#34;</span> | sha256sum --check -

<span style="color:#080;font-style:italic"># Unpack.</span>
tar --no-overwrite-dir -C / -xzf cri-containerd-<span style="color:#b68;font-weight:bold">${</span><span style="color:#b8860b">CONTAINERD_VERSION</span><span style="color:#b68;font-weight:bold">}</span>.linux-amd64.tar.gz

<span style="color:#080;font-style:italic"># Start containerd.</span>
systemctl start containerd</code></pre></div>
<h2 id="other-cri-runtimes-frakti">Other CRI runtimes: frakti</h2>

<p>Refer to the <a href="https://github.com/kubernetes/frakti#quickstart" target="_blank">Frakti QuickStart guide</a> for more information.</p>














<nav class="pagination"><a class="nav nav-prev" href="/docs/setup/multiple-zones/" title="Running in Multiple Zones"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Running in Multiple Zones</a>
<a class="nav nav-next" href="/docs/setup/on-premises-metal/krib/" title="Installing Kubernetes with Digital Rebar Provision (DRP) via KRIB">Next - Installing Kubernetes with Digital Rebar Provision (DRP) via KRIB <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav>


  
  <h2>Feedback</h2>
  <p class="feedback--prompt">Was this page helpful? </p>
  <button class="button feedback--yes">Yes</button>
  <button class="button feedback--no">No</button>
  <p class="feedback--response feedback--response__hidden">
    Thanks for the feedback. If you have a specific, answerable question about how to use Kubernetes,
    ask it on <a target="_blank" rel="noopener"
    href="https://stackoverflow.com/questions/tagged/kubernetes">Stack Overflow</a>. Open
    an issue in the GitHub repo if you want to <a class="feedback--link" target="_blank" rel="noopener"
    href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">report a problem</a> or
    <a class="feedback--link" target="_blank" rel="noopener"
    href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">suggest an improvement</a>.
  </p>
  <script>
    const yes = document.querySelector('.feedback--yes');
    const no = document.querySelector('.feedback--no');
    document.querySelectorAll('.feedback--link').forEach(link => {
      link.href = link.href + window.location.pathname;
    });
    const sendFeedback = (value) => {
      if (!gtag) { console.log('!gtag'); }
      gtag('event', 'click', {
        'event_category': 'Helpful',
        'event_label': window.location.pathname,
        value
      });
    };
    const disableButtons = () => {
      yes.disabled = true;
      yes.classList.add('feedback--button__disabled');
      no.disabled = true;
      no.classList.add('feedback--button__disabled');
    };
    yes.addEventListener('click', () => {
      sendFeedback(1);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
    no.addEventListener('click', () => {
      sendFeedback(0);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
  </script>


  <div id="pre-footer"> 
  <hr />

  <div class="issue-button-container">
    <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs%5csetup%5ccri.md?pixel" alt="Analytics" /></a></p>
    
    
    <script type="text/javascript">
    PDRTJS_settings_8345992 = {
    "id" : "8345992",
    "unique_id" : "\/docs\/setup\/cri\/",
    "title" : "CRI installation",
    "permalink" : "https:\/\/docstest.github.io\/docs\/setup\/cri\/"
    };
    (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
    </script>
    <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?title=Issue%20with%20' +
    'k8s.io'+window.location.pathname)" class="button issue">Create an Issue</a>
    
    
    
    <a href="https://github.com/kubernetes/website/edit/master/content/en/docs%5csetup%5ccri.md" class="button issue">Edit This Page</a>
    
  </div>
  

  <div id="lastedit" class="lastedit issue-button-container">
    Page last modified on February 25, 2019 at 4:37 PM PST by
    <a href="https://github.com/kubernetes/website/commit/e176143ab1c1e3d8d96074a0d43076724d8b19e1/">Tidy install guide for container runtimes (#12704)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs%5csetup%5ccri.md">Page History</a>)
  </div>
  
</div>

  <div class="post-comment">
    
    

<div id="vcomments"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>

<script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'BKVEHk6tElIcscdmyQlg0U3l-gzGzoHsz',
        appKey: 'RPl3UVDsJQlSv1olxy01A3pO',
        notify: 'false',
        verify: 'false',
        avatar:'SuperMap',
        placeholder: '说点什么吧...',
        visitor: 'true'
    });
</script>

  </div>
  </div>
</section>

<footer>
    <main class="light-text">
        <nav>
            
            
            
            <a href="/docs/home/">Home</a>
            
            <a href="/blog/">Blog</a>
            
            <a href="/partners/">Partners</a>
            
            <a href="/community/">Community</a>
            
            <a href="/case-studies/">Case Studies</a>
            
        </nav>
        <div class="social">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">Contribute</a>
            </div>
        </div>
        <div id="miceType" class="center">
            &copy; 2019 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a></a>
        </div>
        <div id="miceType" class="center">
            Copyright &copy; 2019 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a>
        </div>
        <div id="miceType" class="center">
            ICP license: 京ICP备17074266号-3
        </div>
    </main>
</footer>

<button class="flyout-button" onclick="kub.toggleToc()"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



<script language="application/javascript">
  
  (function addHeadingLinks(){
    var article = document.getElementById('docsContent');
    var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
    headings.forEach(function(heading){
      if(heading.id){
        var a = document.createElement('a');
        a.innerHTML = heading.innerHTML;
        a.href = '#'+heading.id;
        a.classList.add('inpage_heading');
        heading.innerHTML = '';
        heading.appendChild(a);
      }
    });
  })();
</script>
</body>
</html>