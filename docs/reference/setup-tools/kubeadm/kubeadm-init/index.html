<!DOCTYPE html>
<html id="docs" lang="en" class="">
<head>
  

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>kubeadm init - SuperMap iDesktop .NET</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">
<link rel="stylesheet" href="/css/base_fonts.css">
<link rel="stylesheet" href="/css/styles.css">
<link rel="stylesheet" href="/css/jquery-ui.min.css">
<link rel="stylesheet" href="/css/sweetalert.min.css">
<link rel="stylesheet" href="/css/callouts.css">
<link rel="stylesheet" href="/css/custom-jekyll/tags.css">
<link rel="stylesheet" href="https://qinlj.github.io/css/main.css" />
<link rel="stylesheet" href="https://qinlj.github.io/css/share.min.css" />



<meta name="description" content="">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:url" content="https://qinlj.github.io/docs/reference/setup-tools/kubeadm/kubeadm-init/">
<meta property="og:title" content="kubeadm init">
<meta name="twitter:title" content="kubeadm init">

<meta name="twitter:image:alt"   content="SuperMap iDesktop .NET">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">
<script src="/js/anchor-4.1.1.min.js"></script>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/jquery-ui-1.12.1.min.js"></script>
<script src="/js/bootstrap-3.3.7.min.js"></script>
<script src="/js/sweetalert-1.1.3.min.js"></script>
<script src="/js/script.js"></script>
<script src="/js/custom-jekyll/tags.js"></script>


</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/" class="logo"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="/docs/" class="active">Documentation</a></li>
            
            <li><a href="/blog/">Blog</a></li>
            
            <li><a href="/partners/">Partners</a></li>
            
            <li><a href="/community/">Community</a></li>
            
            <li><a href="/case-studies/">Case Studies</a></li>
            
            
            
             <li>
                <a href="#">
                    English <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-init/">中文 Chinese</a></li>
                
                </ul>
            </li>

            <li>
                <a href="#">
                    v1.13 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io">v1.13</a></li>
                
                    <li><a href="https://supermaphehh.github.io/zh/">iDesktop .NET</a></li>
                
                    <li><a href="https://v1-12.docs.kubernetes.io">v1.12</a></li>
                
                    <li><a href="https://v1-11.docs.kubernetes.io">v1.11</a></li>
                
                    <li><a href="https://v1-10.docs.kubernetes.io">v1.10</a></li>
                
                    <li><a href="https://v1-9.docs.kubernetes.io">v1.9</a></li>
                
                </ul>
            </li>
        </ul>

        <form id="searchBox" action="/search/">
          <input type="text" id="search" name="q" placeholder="Search" aria-label="Search">
        </form>

    </div>

    <nav id="mainNav">
        <main data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="/docs/tutorials/hello-minikube/">Get Started</a></h3>
           <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="/docs/home/">Documentation</a></h3>
           <p>Learn how to use Kubernetes with conceptual, tutorial, and reference documentation. You can even <a href="/editdocs/" data-auto-burger-exclude>help contribute to the docs</a>!</p>

        </div>
         
           <div class="nav-box">
            <h3><a href="/blog/">Blog</a></h3>
           <p>Read the latest news for Kubernetes and the containers space in general, and get technical how-tos hot off the presses.</p>

        </div>
         
        </main>
        <main data-auto-burger="primary">
        <div class="left">
            <h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
            <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>View On Github</a>
        </div>

        <div class="right">
            <h5 class="github-invite">Explore the community</h5>
            <div class="social">
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
        </div>
        <div class="clear" style="clear: both"></div>
        </main>
    </nav>
</header>



<section id="hero" class="light-text no-sub">
  

















<h1>Reference</h1>
<h5></h5>




<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="/docs/home/">HOME</a></li>
		
		
		<li><a href="/docs/surfaceanalyst/">SURFACEANALYSIS</a></li>
		
		
		<li><a href="/docs/setup/">SETUP</a></li>
		
		
		<li><a href="/docs/concepts/">CONCEPTS</a></li>
		
		
		<li><a href="/docs/tasks/">TASKS</a></li>
		
		
		<li><a href="/docs/tutorials/">TUTORIALS</a></li>
		
		
		<li><a href="/docs/reference/" class="YAH">REFERENCE</a></li>
		
		
		<li><a href="/docs/contribute/">CONTRIBUTE</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/">
		<input type="text" id="search" name="q" placeholder="Search" aria-label="Search">
  </form>
</div>

</section>



<section id="encyclopedia">
  
<div id="docsToc">
     <div class="pi-accordion">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
             
         
         
        
        <a class="item" data-title="Reference" href="/docs/reference/"></a>

	
	
	
	
		
			

<a class="item" data-title="Standardized Glossary" href="/docs/reference/glossary/"></a>

		
	
		
			
<div class="item" data-title="Kubernetes Issues and Security">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Kubernetes Issue Tracker" href="/docs/reference/issues-security/issues/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes Security and Disclosure Information" href="/docs/reference/issues-security/security/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Using the Kubernetes API">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Kubernetes API Overview" href="/docs/reference/using-api/api-overview/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes API Concepts" href="/docs/reference/using-api/api-concepts/"></a>

		
	
		
			

<a class="item" data-title="Client Libraries" href="/docs/reference/using-api/client-libraries/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes Deprecation Policy" href="/docs/reference/using-api/deprecation-policy/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Accessing the API">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Controlling Access to the Kubernetes API" href="/docs/reference/access-authn-authz/controlling-access/"></a>

		
	
		
			

<a class="item" data-title="Authenticating" href="/docs/reference/access-authn-authz/authentication/"></a>

		
	
		
			

<a class="item" data-title="Authenticating with Bootstrap Tokens" href="/docs/reference/access-authn-authz/bootstrap-tokens/"></a>

		
	
		
			

<a class="item" data-title="Using Admission Controllers" href="/docs/reference/access-authn-authz/admission-controllers/"></a>

		
	
		
			

<a class="item" data-title="Dynamic Admission Control" href="/docs/reference/access-authn-authz/extensible-admission-controllers/"></a>

		
	
		
			

<a class="item" data-title="Managing Service Accounts" href="/docs/reference/access-authn-authz/service-accounts-admin/"></a>

		
	
		
			

<a class="item" data-title="Authorization Overview" href="/docs/reference/access-authn-authz/authorization/"></a>

		
	
		
			

<a class="item" data-title="Using RBAC Authorization" href="/docs/reference/access-authn-authz/rbac/"></a>

		
	
		
			

<a class="item" data-title="Using ABAC Authorization" href="/docs/reference/access-authn-authz/abac/"></a>

		
	
		
			

<a class="item" data-title="Using Node Authorization" href="/docs/reference/access-authn-authz/node/"></a>

		
	
		
			

<a class="item" data-title="Webhook Mode" href="/docs/reference/access-authn-authz/webhook/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="API Reference">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Well-Known Labels, Annotations and Taints" href="/docs/reference/kubernetes-api/labels-annotations-taints/"></a>

		
	
		
			

<a class="item" data-title="v1.13" href="/docs/reference/kubernetes-api/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Federation API">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="extensions/v1beta1 Model Definitions" href="/docs/reference/federation/extensions/v1beta1/definitions/"></a>

		
	
		
			

<a class="item" data-title="extensions/v1beta1 Operations" href="/docs/reference/federation/extensions/v1beta1/operations/"></a>

		
	
		
			

<a class="item" data-title="federation/v1beta1 Model Definitions" href="/docs/reference/federation/federation/v1beta1/definitions/"></a>

		
	
		
			

<a class="item" data-title="federation/v1beta1 Operations" href="/docs/reference/federation/federation/v1beta1/operations/"></a>

		
	
		
			

<a class="item" data-title="v1 Model Definitions" href="/docs/reference/federation/v1/definitions/"></a>

		
	
		
			

<a class="item" data-title="v1 Operations" href="/docs/reference/federation/v1/operations/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Setup tools reference">
	<div class="container">
		
		
	
	
	
	
		
			
<div class="item" data-title="Kubeadm">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Overview of kubeadm" href="/docs/reference/setup-tools/kubeadm/kubeadm/"></a>

		
	
		
			

<a class="item" data-title="kubeadm init" href="/docs/reference/setup-tools/kubeadm/kubeadm-init/"></a>

		
	
		
			

<a class="item" data-title="kubeadm join" href="/docs/reference/setup-tools/kubeadm/kubeadm-join/"></a>

		
	
		
			

<a class="item" data-title="kubeadm upgrade" href="/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/"></a>

		
	
		
			

<a class="item" data-title="kubeadm config" href="/docs/reference/setup-tools/kubeadm/kubeadm-config/"></a>

		
	
		
			

<a class="item" data-title="kubeadm reset" href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/"></a>

		
	
		
			

<a class="item" data-title="kubeadm token" href="/docs/reference/setup-tools/kubeadm/kubeadm-token/"></a>

		
	
		
			

<a class="item" data-title="kubeadm version" href="/docs/reference/setup-tools/kubeadm/kubeadm-version/"></a>

		
	
		
			

<a class="item" data-title="kubeadm alpha" href="/docs/reference/setup-tools/kubeadm/kubeadm-alpha/"></a>

		
	
		
			

<a class="item" data-title="kubeadm init phase" href="/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/"></a>

		
	
		
			

<a class="item" data-title="Implementation details" href="/docs/reference/setup-tools/kubeadm/implementation-details/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="kubefed">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="kubefed" href="/docs/reference/setup-tools/kubefed/kubefed/"></a>

		
	
		
			

<a class="item" data-title="kubefed options" href="/docs/reference/setup-tools/kubefed/kubefed_options/"></a>

		
	
		
			

<a class="item" data-title="kubefed init" href="/docs/reference/setup-tools/kubefed/kubefed_init/"></a>

		
	
		
			

<a class="item" data-title="kubefed join" href="/docs/reference/setup-tools/kubefed/kubefed_join/"></a>

		
	
		
			

<a class="item" data-title="kubefed unjoin" href="/docs/reference/setup-tools/kubefed/kubefed_unjoin/"></a>

		
	
		
			

<a class="item" data-title="kubefed version" href="/docs/reference/setup-tools/kubefed/kubefed_version/"></a>

		
	

	</div>
</div>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Command line tools reference">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Feature Gates" href="/docs/reference/command-line-tools-reference/feature-gates/"></a>

		
	
		
			

<a class="item" data-title="Kubelet authentication/authorization" href="/docs/reference/command-line-tools-reference/kubelet-authentication-authorization/"></a>

		
	
		
			

<a class="item" data-title="TLS bootstrapping" href="/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/"></a>

		
	
		
			

<a class="item" data-title="cloud-controller-manager" href="/docs/reference/command-line-tools-reference/cloud-controller-manager/"></a>

		
	
		
			

<a class="item" data-title="federation-apiserver" href="/docs/reference/command-line-tools-reference/federation-apiserver/"></a>

		
	
		
			

<a class="item" data-title="federation-controller-manager" href="/docs/reference/command-line-tools-reference/federation-controller-manager/"></a>

		
	
		
			

<a class="item" data-title="kube-apiserver" href="/docs/reference/command-line-tools-reference/kube-apiserver/"></a>

		
	
		
			

<a class="item" data-title="kube-controller-manager" href="/docs/reference/command-line-tools-reference/kube-controller-manager/"></a>

		
	
		
			

<a class="item" data-title="kube-proxy" href="/docs/reference/command-line-tools-reference/kube-proxy/"></a>

		
	
		
			

<a class="item" data-title="kube-scheduler" href="/docs/reference/command-line-tools-reference/kube-scheduler/"></a>

		
	
		
			

<a class="item" data-title="kubelet" href="/docs/reference/command-line-tools-reference/kubelet/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="kubectl CLI">
	<div class="container">
		
		
	
	
	
	
		
			

<a class="item" data-title="Overview of kubectl" href="/docs/reference/kubectl/overview/"></a>

		
	
		
			

<a class="item" data-title="JSONPath Support" href="/docs/reference/kubectl/jsonpath/"></a>

		
	
		
			

<a class="item" data-title="kubectl" href="/docs/reference/kubectl/kubectl/"></a>

		
	
		
			

<a class="item" data-title="kubectl Cheat Sheet" href="/docs/reference/kubectl/cheatsheet/"></a>

		
	
		
			

<a class="item" data-title="kubectl Commands" href="/docs/reference/kubectl/kubectl-cmds/"></a>

		
	
		
			

<a class="item" data-title="kubectl Usage Conventions" href="/docs/reference/kubectl/conventions/"></a>

		
	
		
			

<a class="item" data-title="kubectl for Docker Users" href="/docs/reference/kubectl/docker-cli-to-kubectl/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" data-title="Tools" href="/docs/reference/tools/"></a>

		
	





     </div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 


  <div id="docsContent">
  

<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/en/docs%5creference%5csetup-tools%5ckubeadm%5ckubeadm-init.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>

<h1>kubeadm init</h1>



<p>This command initializes a Kubernetes control-plane node.</p>









<ul id="markdown-toc">


























<li><a href="#what-s-next">What's next</a></li>



</ul>


<p>Run this command in order to set up the Kubernetes control plane.</p>

<h3 id="synopsis">Synopsis</h3>

<p>The <code>init</code> command executes the following phases:</p>

<pre><code>preflight                  Run master pre-flight checks
kubelet-start              Writes kubelet settings and (re)starts the kubelet
certs                      Certificate generation
  /ca                        Generates the self-signed Kubernetes CA to provision identities for other Kubernetes components
  /apiserver                 Generates the certificate for serving the Kubernetes API
  /apiserver-kubelet-client  Generates the Client certificate for the API server to connect to kubelet
  /front-proxy-ca            Generates the self-signed CA to provision identities for front proxy
  /front-proxy-client        Generates the client for the front proxy
  /etcd-ca                   Generates the self-signed CA to provision identities for etcd
  /etcd-server               Generates the certificate for serving etcd
  /etcd-peer                 Generates the credentials for etcd nodes to communicate with each other
  /etcd-healthcheck-client   Generates the client certificate for liveness probes to healtcheck etcd
  /apiserver-etcd-client     Generates the client apiserver uses to access etcd
  /sa                        Generates a private key for signing service account tokens along with its public key
kubeconfig                 Generates all kubeconfig files necessary to establish the control plane and the admin kubeconfig file
  /admin                     Generates a kubeconfig file for the admin to use and for kubeadm itself
  /kubelet                   Generates a kubeconfig file for the kubelet to use *only* for cluster bootstrapping purposes
  /controller-manager        Generates a kubeconfig file for the controller manager to use
  /scheduler                 Generates a kubeconfig file for the scheduler to use
control-plane              Generates all static Pod manifest files necessary to establish the control plane
  /apiserver                 Generates the kube-apiserver static Pod manifest
  /controller-manager        Generates the kube-controller-manager static Pod manifest
  /scheduler                 Generates the kube-scheduler static Pod manifest
etcd                       Generates static Pod manifest file for local etcd.
  /local                     Generates the static Pod manifest file for a local, single-node local etcd instance.
upload-config              Uploads the kubeadm and kubelet configuration to a ConfigMap
  /kubeadm                   Uploads the kubeadm ClusterConfiguration to a ConfigMap
  /kubelet                   Uploads the kubelet component config to a ConfigMap
mark-control-plane         Mark a node as a control-plane
bootstrap-token            Generates bootstrap tokens used to join a node to a cluster
addon                      Installs required addons for passing Conformance tests
  /coredns                   Installs the CoreDNS addon to a Kubernetes cluster
  /kube-proxy                Installs the kube-proxy addon to a Kubernetes cluster
</code></pre>

<pre><code>kubeadm init [flags]
</code></pre>

<h3 id="options">Options</h3>

<table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>

    <tr>
      <td colspan="2">--apiserver-advertise-address string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">The IP address the API Server will advertise it's listening on. Specify '0.0.0.0' to use the address of the default network interface.</td>
    </tr>

    <tr>
      <td colspan="2">--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Port for the API Server to bind to.</td>
    </tr>

    <tr>
      <td colspan="2">--apiserver-cert-extra-sans stringSlice</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</td>
    </tr>

    <tr>
      <td colspan="2">--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">The path where to save and store the certificates.</td>
    </tr>

    <tr>
      <td colspan="2">--config string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Path to kubeadm config file. WARNING: Usage of a configuration file is experimental.</td>
    </tr>

    <tr>
      <td colspan="2">--cri-socket string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/var/run/dockershim.sock"</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Specify the CRI socket to connect to.</td>
    </tr>

    <tr>
      <td colspan="2">--dry-run</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Don't apply any changes; just output what would be done.</td>
    </tr>

    <tr>
      <td colspan="2">--feature-gates string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">A set of key=value pairs that describe feature gates for various features. Options are:<br/></td>
    </tr>

    <tr>
      <td colspan="2">-h, --help</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">help for init</td>
    </tr>

    <tr>
      <td colspan="2">--ignore-preflight-errors stringSlice</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</td>
    </tr>

    <tr>
      <td colspan="2">--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Choose a container registry to pull control plane images from</td>
    </tr>

    <tr>
      <td colspan="2">--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Choose a specific Kubernetes version for the control plane.</td>
    </tr>

    <tr>
      <td colspan="2">--node-name string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Specify the node name.</td>
    </tr>

    <tr>
      <td colspan="2">--pod-network-cidr string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</td>
    </tr>

    <tr>
      <td colspan="2">--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Use alternative range of IP address for service VIPs.</td>
    </tr>

    <tr>
      <td colspan="2">--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Use alternative domain for services, e.g. "myorg.internal".</td>
    </tr>

    <tr>
      <td colspan="2">--skip-phases stringSlice</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">List of phases to be skipped</td>
    </tr>

    <tr>
      <td colspan="2">--skip-token-print</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">Skip printing of the default bootstrap token generated by 'kubeadm init'.</td>
    </tr>

    <tr>
      <td colspan="2">--token string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">The token to use for establishing bidirectional trust between nodes and masters. The format is [a-z0-9]{6}\.[a-z0-9]{16} - e.g. abcdef.0123456789abcdef</td>
    </tr>

    <tr>
      <td colspan="2">--token-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">The duration before the token is automatically deleted (e.g. 1s, 2m, 3h). If set to '0', the token will never expire</td>
    </tr>

  </tbody>
</table>

<h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3>

<table style="width: 100%; table-layout: fixed;">
  <colgroup>
    <col span="1" style="width: 10px;" />
    <col span="1" />
  </colgroup>
  <tbody>

    <tr>
      <td colspan="2">--rootfs string</td>
    </tr>
    <tr>
      <td></td><td style="line-height: 130%; word-wrap: break-word;">[EXPERIMENTAL] The path to the 'real' host root filesystem.</td>
    </tr>

  </tbody>
</table>

<h3 id="init-workflow">Init workflow</h3>

<p><code>kubeadm init</code> bootstraps a Kubernetes control-plane node by executing the
following steps:</p>

<ol>
<li><p>Runs a series of pre-flight checks to validate the system state
before making changes. Some checks only trigger warnings, others are
considered errors and will exit kubeadm until the problem is corrected or the
user specifies <code>--ignore-preflight-errors=&lt;list-of-errors&gt;</code>.</p></li>

<li><p>Generates a self-signed CA (or using an existing one if provided) to set up
identities for each component in the cluster. If the user has provided their
own CA cert and/or key by dropping it in the cert directory configured via <code>--cert-dir</code>
(<code>/etc/kubernetes/pki</code> by default) this step is skipped as described in the
<a href="#custom-certificates">Using custom certificates</a> document.
The APIServer certs will have additional SAN entries for any <code>--apiserver-cert-extra-sans</code> arguments, lowercased if necessary.</p></li>

<li><p>Writes kubeconfig files in <code>/etc/kubernetes/</code>  for
the kubelet, the controller-manager and the scheduler to use to connect to the
API server, each with its own identity, as well as an additional
kubeconfig file for administration named <code>admin.conf</code>.</p></li>

<li><p>Generates static Pod manifests for the API server,
controller manager and scheduler. In case an external etcd is not provided,
an additional static Pod manifest are generated for etcd.</p></li>
</ol>

<p>Static Pod manifests are written to <code>/etc/kubernetes/manifests</code>; the kubelet
   watches this directory for Pods to create on startup.</p>

<p>Once control plane Pods are up and running, the <code>kubeadm init</code> sequence can continue.</p>

<ol>
<li><p>Apply labels and taints to the control-plane node so that no additional workloads will
run there.</p></li>

<li><p>Generates the token that additional nodes can use to register
themselves with the master in the future.  Optionally, the user can provide a
token via <code>--token</code>, as described in the
<a href="/docs/reference/setup-tools/kubeadm/kubeadm-token/">kubeadm token</a> docs.</p></li>

<li><p>Makes all the necessary configurations for allowing node joining with the
<a href="/docs/reference/access-authn-authz/bootstrap-tokens/">Bootstrap Tokens</a> and
<a href="/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/">TLS Bootstrap</a>
mechanism:</p>

<ul>
<li><p>Write a ConfigMap for making available all the information required
for joining, and set up related RBAC access rules.</p></li>

<li><p>Let Bootstrap Tokens access the CSR signing API.</p></li>

<li><p>Configure auto-approval for new CSR requests.</p></li>
</ul></li>
</ol>

<p>See <a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">kubeadm join</a> for additional info.</p>

<ol>
<li>Installs a DNS server (CoreDNS) and the kube-proxy addon components via the API server.
In Kubernetes version 1.11 and later CoreDNS is the default DNS server.
To install kube-dns instead of CoreDNS, the DNS addon has to configured in the kubeadm <code>ClusterConfiguration</code>. For more information about the configuration see the section
<code>Using kubeadm init with a configuration file</code> bellow.
Please note that although the DNS server is deployed, it will not be scheduled until CNI is installed.</li>
</ol>

<h3 id="init-phases">Using init phases with kubeadm</h3>

<p>Kubeadm allows you create a control-plane node in phases. In 1.13 the <code>kubeadm init phase</code> command has graduated to GA from it’s previous alpha state under <code>kubeadm alpha phase</code>.</p>

<p>To view the ordered list of phases and sub-phases you can call <code>kubeadm init --help</code>. The list will be located at the top of the help screen and each phase will have a description next to it.
Note that by calling <code>kubeadm init</code> all of the phases and sub-phases will be executed in this exact order.</p>

<p>Some phases have unique flags, so if you want to have a look at the list of available options add <code>--help</code>, for example:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo kubeadm init phase control-plane controller-manager --help</code></pre></div>
<p>You can also use <code>--help</code> to see the list of sub-phases for a certain parent phase:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo kubeadm init phase control-plane --help</code></pre></div>
<p><code>kubeadm init</code> also expose a flag called <code>--skip-phases</code> that can be used to skip certain phases. The flag accepts a list of phase names and the names can be taken from the above ordered list.</p>

<p>An example:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo kubeadm init phase control-plane all --config<span style="color:#666">=</span>configfile.yaml
sudo kubeadm init phase etcd <span style="color:#a2f">local</span> --config<span style="color:#666">=</span>configfile.yaml
<span style="color:#080;font-style:italic"># you can now modify the control plane and etcd manifest files</span>
sudo kubeadm init --skip-phases<span style="color:#666">=</span>control-plane,etcd --config<span style="color:#666">=</span>configfile.yaml</code></pre></div>
<p>What this example would do is write the manifest files for the control plane and etcd in <code>/etc/kubernetes/manifests</code> based on the configuration in <code>configfile.yaml</code>. This allows you to modify the files and then skip these phases using <code>--skip-phases</code>. By calling the last command you will create a control plane node with the custom manifest files.</p>

<h3 id="config-file">Using kubeadm init with a configuration file</h3>

<blockquote class="caution">
  <div><strong>Caution:</strong> The config file is still considered beta and may change in future versions.</div>
</blockquote>

<p>It&rsquo;s possible to configure <code>kubeadm init</code> with a configuration file instead of command
line flags, and some more advanced features may only be available as
configuration file options. This file is passed in the <code>--config</code> option.</p>

<p>In Kubernetes 1.11 and later, the default configuration can be printed out using the
<a href="/docs/reference/setup-tools/kubeadm/kubeadm-config/">kubeadm config print</a> command.
It is <strong>recommended</strong> that you migrate your old <code>v1alpha3</code> configuration to <code>v1beta1</code> using
the <a href="/docs/reference/setup-tools/kubeadm/kubeadm-config/">kubeadm config migrate</a> command,
because <code>v1alpha3</code> will be removed in Kubernetes 1.14.</p>

<p>For more details on each field in the <code>v1beta1</code> configuration you can navigate to our
<a href="https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1beta1" target="_blank">API reference pages</a>.</p>

<h3 id="kube-proxy">Adding kube-proxy parameters</h3>

<p>For information about kube-proxy parameters in the kubeadm configuration see:
- <a href="https://godoc.org/k8s.io/kubernetes/pkg/proxy/apis/config#KubeProxyConfiguration" target="_blank">kube-proxy</a></p>

<p>For information about enabling IPVS mode with kubeadm see:
- <a href="https://github.com/kubernetes/kubernetes/blob/master/pkg/proxy/ipvs/README.md" target="_blank">IPVS</a></p>

<h3 id="control-plane-flags">Passing custom flags to control plane components</h3>

<p>For information about passing flags to control plane components see:
- <a href="/docs/setup/independent/control-plane-flags/">control-plane-flags</a></p>

<h3 id="custom-images">Using custom images</h3>

<p>By default, kubeadm pulls images from <code>k8s.gcr.io</code>, unless
the requested Kubernetes version is a CI version. In this case,
<code>gcr.io/kubernetes-ci-images</code> is used.</p>

<p>You can override this behavior by using <a href="#config-file">kubeadm with a configuration file</a>.
Allowed customization are:</p>

<ul>
<li>To provide an alternative <code>imageRepository</code> to be used instead of
<code>k8s.gcr.io</code>.</li>
<li>To set <code>useHyperKubeImage</code> to <code>true</code> to use the HyperKube image.</li>
<li>To provide a specific <code>imageRepository</code> and <code>imageTag</code> for etcd or DNS add-on.</li>
</ul>

<p>Please note that the configuration field <code>kubernetesVersion</code> or the command line flag
<code>--kubernetes-version</code> affect the version of the images.</p>

<h3 id="custom-certificates">Using custom certificates</h3>

<p>By default, kubeadm generates all the certificates needed for a cluster to run.
You can override this behavior by providing your own certificates.</p>

<p>To do so, you must place them in whatever directory is specified by the
<code>--cert-dir</code> flag or <code>CertificatesDir</code> configuration file key. By default this
is <code>/etc/kubernetes/pki</code>.</p>

<p>If a given certificate and private key pair exists, kubeadm skips the
generation step and existing files are used for the prescribed
use case. This means you can, for example, copy an existing CA into <code>/etc/kubernetes/pki/ca.crt</code>
and <code>/etc/kubernetes/pki/ca.key</code>, and kubeadm will use this CA for signing the rest
of the certs.</p>

<h4 id="external-ca-mode">External CA mode</h4>

<p>It is also possible to provide just the <code>ca.crt</code> file and not the
<code>ca.key</code> file (this is only available for the root CA file, not other cert pairs).
If all other certificates and kubeconfig files are in place, kubeadm recognizes
this condition and activates the &ldquo;External CA&rdquo; mode. kubeadm will proceed without the
CA key on disk.</p>

<p>Instead, run the controller-manager standalone with <code>--controllers=csrsigner</code> and
point to the CA certificate and key.</p>

<h3 id="kubelet-drop-in">Managing the kubeadm drop-in file for the kubelet</h3>

<p>The kubeadm package ships with configuration for how the kubelet should
be run. Note that the <code>kubeadm</code> CLI command never touches this drop-in file.
This drop-in file belongs to the kubeadm deb/rpm package.</p>

<p>This is what it looks like:</p>

<pre><code>[Service]
Environment=&quot;KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf&quot;
Environment=&quot;KUBELET_SYSTEM_PODS_ARGS=--pod-manifest-path=/etc/kubernetes/manifests --allow-privileged=true&quot;
Environment=&quot;KUBELET_NETWORK_ARGS=--network-plugin=cni --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin&quot;
Environment=&quot;KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local&quot;
Environment=&quot;KUBELET_AUTHZ_ARGS=--authorization-mode=Webhook --client-ca-file=/etc/kubernetes/pki/ca.crt&quot;
Environment=&quot;KUBELET_CADVISOR_ARGS=&quot;
Environment=&quot;KUBELET_CERTIFICATE_ARGS=--rotate-certificates=true --cert-dir=/var/lib/kubelet/pki&quot;
ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_SYSTEM_PODS_ARGS $KUBELET_NETWORK_ARGS $KUBELET_DNS_ARGS $KUBELET_AUTHZ_ARGS $KUBELET_CADVISOR_ARGS $KUBELET_CERTIFICATE_ARGS $KUBELET_EXTRA_ARGS
</code></pre>

<p>Here&rsquo;s a breakdown of what/why:</p>

<ul>
<li><code>--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf</code> path to a kubeconfig
file that is used to get client certificates for kubelet during node join.
On success, a kubeconfig file is written to the path specified by <code>--kubeconfig</code>.</li>
<li><code>--kubeconfig=/etc/kubernetes/kubelet.conf</code> points to the kubeconfig file that
tells the kubelet where the API server is. This file also has the kubelet&rsquo;s
credentials.</li>
<li><code>--pod-manifest-path=/etc/kubernetes/manifests</code> specifies from where to read
static Pod manifests used for starting the control plane.</li>
<li><code>--allow-privileged=true</code> allows this kubelet to run privileged Pods.</li>
<li><code>--network-plugin=cni</code> uses CNI networking.</li>
<li><code>--cni-conf-dir=/etc/cni/net.d</code> specifies where to look for the
<a href="https://github.com/containernetworking/cni/blob/master/SPEC.md" target="_blank">CNI spec file(s)</a>.</li>
<li><code>--cni-bin-dir=/opt/cni/bin</code> specifies where to look for the actual CNI binaries.</li>
<li><code>--cluster-dns=10.96.0.10</code> use this cluster-internal DNS server for <code>nameserver</code>
entries in Pods&rsquo; <code>/etc/resolv.conf</code>.</li>
<li><code>--cluster-domain=cluster.local</code> uses this cluster-internal DNS domain for
<code>search</code> entries in Pods&rsquo; <code>/etc/resolv.conf</code>.</li>
<li><code>--client-ca-file=/etc/kubernetes/pki/ca.crt</code> authenticates requests to the Kubelet
API using this CA certificate.</li>
<li><code>--authorization-mode=Webhook</code> authorizes requests to the Kubelet API by <code>POST</code>-ing
a <code>SubjectAccessReview</code> to the API server.</li>
<li><code>--rotate-certificates</code> auto rotate the kubelet client certificates by requesting new
certificates from the <code>kube-apiserver</code> when the certificate expiration approaches.</li>
<li><code>--cert-dir</code>the directory where the TLS certs are located.</li>
</ul>

<h3 id="use-kubeadm-with-cri-runtimes">Use kubeadm with CRI runtimes</h3>

<p>Since v1.6.0, Kubernetes has enabled the use of CRI, Container Runtime Interface, by default.
The container runtime used by default is Docker, which is enabled through the built-in
<code>dockershim</code> CRI implementation inside of the <code>kubelet</code>.</p>

<p>Other CRI-based runtimes include:</p>

<ul>
<li><a href="https://github.com/containerd/cri-containerd" target="_blank">cri-containerd</a></li>
<li><a href="https://github.com/kubernetes-incubator/cri-o" target="_blank">cri-o</a></li>
<li><a href="https://github.com/kubernetes/frakti" target="_blank">frakti</a></li>
<li><a href="https://github.com/kubernetes-incubator/rktlet" target="_blank">rkt</a></li>
</ul>

<p>Refer to the <a href="/docs/setup/cri">CRI installation instructions</a> for more information.</p>

<p>After you have successfully installed <code>kubeadm</code> and <code>kubelet</code>, execute
these two additional steps:</p>

<ol>
<li><p>Install the runtime shim on every node, following the installation
document in the runtime shim project listing above.</p></li>

<li><p>Configure kubelet to use the remote CRI runtime. Please remember to change
<code>RUNTIME_ENDPOINT</code> to your own value like <code>/var/run/{your_runtime}.sock</code>:</p></li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cat &gt; /etc/systemd/system/kubelet.service.d/20-cri.conf <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">[Service]
</span><span style="color:#b44">Environment=&#34;KUBELET_EXTRA_ARGS=--container-runtime=remote --container-runtime-endpoint=$RUNTIME_ENDPOINT&#34;
</span><span style="color:#b44">EOF</span>
systemctl daemon-reload</code></pre></div>
<p>Now <code>kubelet</code> is ready to use the specified CRI runtime, and you can continue
with the <code>kubeadm init</code> and <code>kubeadm join</code> workflow to deploy Kubernetes cluster.</p>

<p>You may also want to set <code>--cri-socket</code> to <code>kubeadm init</code> and <code>kubeadm reset</code> when
using an external CRI implementation.</p>

<h3 id="using-internal-ips-in-your-cluster">Using internal IPs in your cluster</h3>

<p>In order to set up a cluster where the master and worker nodes communicate with internal IP addresses (instead of public ones), execute following steps.</p>

<ol>
<li>When running init, you must make sure you specify an internal IP for the API server&rsquo;s bind address, like so:</li>
</ol>

<p><code>kubeadm init --apiserver-advertise-address=&lt;private-master-ip&gt;</code></p>

<ol>
<li>When a master or worker node has been provisioned, add a flag to <code>/etc/systemd/system/kubelet.service.d/10-kubeadm.conf</code> that specifies the private IP of the worker node:</li>
</ol>

<p><code>--node-ip=&lt;private-node-ip&gt;</code></p>

<ol>
<li>Finally, when you run <code>kubeadm join</code>, make sure you provide the private IP of the API server addressed as defined in step 1.</li>
</ol>

<h3 id="setting-the-node-name">Setting the node name</h3>

<p>By default, <code>kubeadm</code> assigns a node name based on a machine&rsquo;s host address. You can override this setting with the <code>--node-name</code>flag.
The flag passes the appropriate <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/#options" target="_blank"><code>--hostname-override</code></a>
to the kubelet.</p>

<p>Be aware that overriding the hostname can <a href="https://github.com/kubernetes/website/pull/8873" target="_blank">interfere with cloud providers</a>.</p>

<h3 id="self-hosting">Self-hosting the Kubernetes control plane</h3>

<p>As of 1.8, you can experimentally create a <em>self-hosted</em> Kubernetes control
plane. This means that key components such as the API server, controller
manager, and scheduler run as <a href="/docs/concepts/workloads/controllers/daemonset/">DaemonSet pods</a>
configured via the Kubernetes API instead of <a href="/docs/tasks/administer-cluster/static-pod/">static pods</a>
configured in the kubelet via static files.</p>

<p>To create a self-hosted cluster, pass the flag <code>--feature-gates=SelfHosting=true</code> to <code>kubeadm init</code>.</p>

<blockquote class="caution">
  <div><strong>Caution:</strong> <code>SelfHosting</code> is an alpha feature. It is deprecated in 1.12
and will be removed in 1.13.</div>
</blockquote>

<h4 id="caveats">Caveats</h4>

<p>Self-hosting in 1.8 and later has some important limitations. In particular, a
self-hosted cluster <em>cannot recover from a reboot of the control-plane node</em>
without manual intervention. This and other limitations are expected to be
resolved before self-hosting graduates from alpha.</p>

<p>By default, self-hosted control plane Pods rely on credentials loaded from
<a href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath" target="_blank"><code>hostPath</code></a>
volumes. Except for initial creation, these credentials are not managed by
kubeadm.</p>

<p>In kubeadm 1.8, the self-hosted portion of the control plane does not include etcd,
which still runs as a static Pod.</p>

<h4 id="process">Process</h4>

<p>The self-hosting bootstrap process is documented in the <a href="https://github.com/kubernetes/kubeadm/blob/master/docs/design/design_v1.9.md#optional-self-hosting" target="_blank">kubeadm design
document</a>.</p>

<p>In summary, <code>kubeadm alpha selfhosting</code> works as follows:</p>

<ol>
<li><p>Waits for this bootstrap static control plane to be running and
healthy. This is identical to the <code>kubeadm init</code> process without self-hosting.</p></li>

<li><p>Uses the static control plane Pod manifests to construct a set of
DaemonSet manifests that will run the self-hosted control plane.
It also modifies these manifests where necessary, for example adding new volumes
for secrets.</p></li>

<li><p>Creates DaemonSets in the <code>kube-system</code> namespace and waits for the
 resulting Pods to be running.</p></li>

<li><p>Once self-hosted Pods are operational, their associated static Pods are deleted
 and kubeadm moves on to install the next component. This triggers kubelet to
 stop those static Pods.</p></li>

<li><p>When the original static control plane stops, the new self-hosted control
plane is able to bind to listening ports and become active.</p></li>
</ol>

<h3 id="running-kubeadm-without-an-internet-connection">Running kubeadm without an internet connection</h3>

<p>For running kubeadm without an internet connection you have to pre-pull the required master images for the version of choice:</p>

<table>
<thead>
<tr>
<th>Image Name</th>
<th>v1.10 release branch version</th>
</tr>
</thead>

<tbody>
<tr>
<td>k8s.gcr.io/kube-apiserver-${ARCH}</td>
<td>v1.10.x</td>
</tr>

<tr>
<td>k8s.gcr.io/kube-controller-manager-${ARCH}</td>
<td>v1.10.x</td>
</tr>

<tr>
<td>k8s.gcr.io/kube-scheduler-${ARCH}</td>
<td>v1.10.x</td>
</tr>

<tr>
<td>k8s.gcr.io/kube-proxy-${ARCH}</td>
<td>v1.10.x</td>
</tr>

<tr>
<td>k8s.gcr.io/etcd-${ARCH}</td>
<td>3.1.12</td>
</tr>

<tr>
<td>k8s.gcr.io/pause-${ARCH}</td>
<td>3.1</td>
</tr>

<tr>
<td>k8s.gcr.io/k8s-dns-sidecar-${ARCH}</td>
<td>1.14.8</td>
</tr>

<tr>
<td>k8s.gcr.io/k8s-dns-kube-dns-${ARCH}</td>
<td>1.14.8</td>
</tr>

<tr>
<td>k8s.gcr.io/k8s-dns-dnsmasq-nanny-${ARCH}</td>
<td>1.14.8</td>
</tr>

<tr>
<td>coredns/coredns</td>
<td>1.0.6</td>
</tr>
</tbody>
</table>

<p>Here <code>v1.10.x</code> means the &ldquo;latest patch release of the v1.10 branch&rdquo;.</p>

<p><code>${ARCH}</code> can be one of: <code>amd64</code>, <code>arm</code>, <code>arm64</code>, <code>ppc64le</code> or <code>s390x</code>.</p>

<p>If you run Kubernetes version 1.10 or earlier, and if you set <code>--feature-gates=CoreDNS=true</code>,
you must also use the <code>coredns/coredns</code> image, instead of the three <code>k8s-dns-*</code> images.</p>

<p>In Kubernetes 1.11 and later, you can list and pull the images using the <code>kubeadm config images</code> sub-command:</p>

<pre><code>kubeadm config images list
kubeadm config images pull
</code></pre>

<p>Starting with Kubernetes 1.12, the <code>k8s.gcr.io/kube-*</code>, <code>k8s.gcr.io/etcd</code> and <code>k8s.gcr.io/pause</code> images
don&rsquo;t require an <code>-${ARCH}</code> suffix.</p>

<h3 id="automating-kubeadm">Automating kubeadm</h3>

<p>Rather than copying the token you obtained from <code>kubeadm init</code> to each node, as
in the <a href="/docs/setup/independent/create-cluster-kubeadm/">basic kubeadm tutorial</a>, you can parallelize the
token distribution for easier automation. To implement this automation, you must
know the IP address that the master will have after it is started.</p>

<ol>
<li><p>Generate a token. This token must have the form  <code>&lt;6 character string&gt;.&lt;16
character string&gt;</code>.  More formally, it must match the regex:
<code>[a-z0-9]{6}\.[a-z0-9]{16}</code>.</p>

<p>kubeadm can generate a token for you:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubeadm token generate</code></pre></div></li>

<li><p>Start both the control-plane node and the worker nodes concurrently with this token.
As they come up they should find each other and form the cluster.  The same
<code>--token</code> argument can be used on both <code>kubeadm init</code> and <code>kubeadm join</code>.</p></li>
</ol>

<p>Once the cluster is up, you can grab the admin credentials from the control-plane node
at <code>/etc/kubernetes/admin.conf</code> and use that to talk to the cluster.</p>

<p>Note that this style of bootstrap has some relaxed security guarantees because
it does not allow the root CA hash to be validated with
<code>--discovery-token-ca-cert-hash</code> (since it&rsquo;s not generated when the nodes are
provisioned). For details, see the <a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">kubeadm join</a>.</p>












<h2 id="what-s-next">What&#39;s next</h2>
<ul>
<li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/">kubeadm init phase</a> to understand more about
<code>kubeadm init</code> phases</li>
<li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">kubeadm join</a> to bootstrap a Kubernetes worker node and join it to the cluster</li>
<li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/">kubeadm upgrade</a> to upgrade a Kubernetes cluster to a newer version</li>
<li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/">kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
</ul>






<nav class="pagination" style="font-size: 16px; font-weight: bold"><a class="nav nav-prev" href="/docs/reference/setup-tools/kubeadm/kubeadm/" title="Overview of kubeadm"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Overview of kubeadm</a>
<a class="nav nav-next" style="float:right"  href="/docs/reference/setup-tools/kubeadm/kubeadm-join/" title="kubeadm join">Next - kubeadm join <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav>


  
  <h2>Feedback</h2>
  <p class="feedback--prompt">Was this page helpful? </p>
  <button class="button feedback--yes">Yes</button>
  <button class="button feedback--no">No</button>
  <p class="feedback--response feedback--response__hidden">
    Thanks for the feedback. If you have a specific, answerable question about how to use Kubernetes,
    ask it on <a target="_blank" rel="noopener"
    href="https://stackoverflow.com/questions/tagged/kubernetes">Stack Overflow</a>. Open
    an issue in the GitHub repo if you want to <a class="feedback--link" target="_blank" rel="noopener"
    href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">report a problem</a> or
    <a class="feedback--link" target="_blank" rel="noopener"
    href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">suggest an improvement</a>.
  </p>
  <script>
    const yes = document.querySelector('.feedback--yes');
    const no = document.querySelector('.feedback--no');
    document.querySelectorAll('.feedback--link').forEach(link => {
      link.href = link.href + window.location.pathname;
    });
    const sendFeedback = (value) => {
      if (!gtag) { console.log('!gtag'); }
      gtag('event', 'click', {
        'event_category': 'Helpful',
        'event_label': window.location.pathname,
        value
      });
    };
    const disableButtons = () => {
      yes.disabled = true;
      yes.classList.add('feedback--button__disabled');
      no.disabled = true;
      no.classList.add('feedback--button__disabled');
    };
    yes.addEventListener('click', () => {
      sendFeedback(1);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
    no.addEventListener('click', () => {
      sendFeedback(0);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
  </script>


  <div id="pre-footer"> 
  <hr />

  <div class="issue-button-container">
    <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs%5creference%5csetup-tools%5ckubeadm%5ckubeadm-init.md?pixel" alt="Analytics" /></a></p>
    
    
    <script type="text/javascript">
    PDRTJS_settings_8345992 = {
    "id" : "8345992",
    "unique_id" : "\/docs\/reference\/setup-tools\/kubeadm\/kubeadm-init\/",
    "title" : "kubeadm init",
    "permalink" : "https:\/\/qinlj.github.io\/docs\/reference\/setup-tools\/kubeadm\/kubeadm-init\/"
    };
    (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
    </script>
    <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?title=Issue%20with%20' +
    'k8s.io'+window.location.pathname)" class="button issue">Create an Issue</a>
    
    
    
    <a href="https://github.com/kubernetes/website/edit/master/content/en/docs%5creference%5csetup-tools%5ckubeadm%5ckubeadm-init.md" class="button issue">Edit This Page</a>
    
  </div>
  

  <div id="lastedit" class="lastedit issue-button-container">
    Page last modified on March 13, 2019 at 2:04 AM PST by
    <a href="https://github.com/kubernetes/website/commit/01ed12e4e3f561a38d59924a8bf9cb6a0ddc503e/">Update kubeadm-init.md (#13068)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs%5creference%5csetup-tools%5ckubeadm%5ckubeadm-init.md">Page History</a>)
  </div>
  
</div>

  <div class="post-comment">
    
    


<div id="lv-container" data-id="city" data-uid="MTAyMC80MzQxMi8xOTk1Mw==">
  <script type="text/javascript">
    (function(d, s) {
      var j, e = d.getElementsByTagName(s)[0];

      if (typeof LivereTower === 'function') { return; }

      j = d.createElement(s);
      j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
      j.async = true;

      e.parentNode.insertBefore(j, e);
    })(document, 'script');
  </script>
  <noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
</div>



  </div>
  
  <div class="container" role="main" itemscope itemtype="http://schema.org/Article">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        
        
<div>
  <section id="datecount">
    <h4 id="date"> Mon Jan 1, 0001</h4>
  </section>
  <h5 id="wc">100 Words|Read in about 0 Min</h5>
  <h5 id="tags">Tags: 
  </h5>
</div>
        
        <article role="main" class="blog-post" itemprop="articleBody" id="content">
          ...
          





          
          <div class="social-share" data-initialized="true" data-wechat-qrcode-title="不扫别后悔">
  <center>
    <font style="font-size:18px;color:darkcyan;">分享到：</font>
    <a href="#" class="social-share-icon icon-weibo"></a>
    <a href="#" class="social-share-icon icon-wechat"></a>
    <a href="#" class="social-share-icon icon-twitter"></a>
    <a href="#" class="social-share-icon icon-linkedin"></a>
    <a href="#" class="social-share-icon icon-facebook"></a>
    <a href="#" class="social-share-icon icon-qq"></a>
    <a href="#" class="social-share-icon icon-qzone"></a>
  </center>
</div>


<script src="https://hugo-picture.oss-cn-beijing.aliyuncs.com/social-share.min.js"></script>
          
        </article>
      </div>
    </div>
  </div>
</section>

<footer>
    <main class="light-text">
        <nav>
            
            
            
            <a href="/docs/home/">Home</a>
            
            <a href="/blog/">Blog</a>
            
            <a href="/partners/">Partners</a>
            
            <a href="/community/">Community</a>
            
            <a href="/case-studies/">Case Studies</a>
            
        </nav>
        <div class="social">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Events Calendar</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">Contribute</a>
            </div>
        </div>
        <div id="miceType" class="center">
            &copy; 2019 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a></a>
        </div>
        <div id="miceType" class="center">
            Copyright &copy; 2019 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a>
        </div>
        <div id="miceType" class="center">
            ICP license: 京ICP备17074266号-3
        </div>
    </main>
</footer>

<button class="flyout-button" onclick="kub.toggleToc()"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



<script language="application/javascript">
  
  (function addHeadingLinks(){
    var article = document.getElementById('docsContent');
    var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
    headings.forEach(function(heading){
      if(heading.id){
        var a = document.createElement('a');
        a.innerHTML = heading.innerHTML;
        a.href = '#'+heading.id;
        a.classList.add('inpage_heading');
        heading.innerHTML = '';
        heading.appendChild(a);
      }
    });
  })();
</script>
</body>
</html>